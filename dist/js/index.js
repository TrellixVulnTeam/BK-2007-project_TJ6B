"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,i,t){return i&&_defineProperties(e.prototype,i),t&&_defineProperties(e,t),e}$(window).scroll(function(){400<$(window).scrollTop()?($(".searchTop").stop().slideDown(1e3).css({display:"flex"}),$(".storeNav").stop().fadeIn(1e3).css({display:"flex"})):($(".searchTop").stop().slideUp(1e3),$(".storeNav").stop().fadeOut(1e3)),$(".storey>ul>li").each(function(e,i){$(window).scrollTop()+500>$(i).offset().top&&$(".storeNav li").eq(e).addClass("active").siblings().removeClass("active")})}),$(".storeNav").on("click",'[name="back"]',function(){$("html").animate({scrollTop:0},1e3)}),$(".storeNav").on("click",'[name="li"]',function(){$("html").animate({scrollTop:$(".storey>ul>li").eq($(this).index()).offset().top-300},1e3)}),$('[name="loginOut"]').click(function(){mySetCookie("login",1,-1,"/"),window.alert("退出登录成功")}),$('[name="cart"]').click(function(){void 0===myGetCookieObj().login?window.confirm("您还没有登录，要登录之后才能进入购物车，点击确认跳转登录页面")&&(window.location.href="../pages/login.html"):window.location.href="../pages/cart.html"});var endTime=getCountDown("2021-2-11 0:00:00");console.log(endTime),$(".time").html('<span class="sp1"><p>当前时间距离</p> <p>2021年-02月-11日 0:00:00 </p><br>\n      距离结束还有:<br><br><p><i>'.concat(endTime.day,"</i>天<i>").concat(endTime.hour,"</i>小时<i>").concat(endTime.minute,"</i>分钟<i>").concat(endTime.second,"</i>秒</p></span>")),setInterval(function(){var e=getCountDown("2021-2-11 0:00:00");$(".time").html('<span class="sp1"><p>当前时间距离</p> <p>2021年-02月-11日 0:00:00 </p><br>\n      距离结束还有:<br><br><p><i>'.concat(e.day,"</i>天<i>").concat(e.hour,"</i>小时<i>").concat(e.minute,"</i>分钟<i>").concat(e.second,"</i>秒</p></span>"))},1e3);var imgArr1=[{width:500,height:500,src:"../images/miaosha/miaosha1.jpg",name:"茅台王子酒 金王子 53度 500ml*6瓶 整箱装",oldPrice:1788,newPrice:1488},{width:500,height:500,src:"../images/miaosha/miaosha2.jpg",name:"无线蓝牙耳机",oldPrice:229,newPrice:68.9},{width:500,height:500,src:"../images/miaosha/miaosha3.jpg",name:"五香酱牛肉熟食熟牛肉",oldPrice:218,newPrice:126},{width:500,height:500,src:"../images/miaosha/miaosha4.jpg",name:"外套男2020秋季男装连帽时尚男士夹克外套",oldPrice:198,newPrice:68},{width:500,height:500,src:"../images/miaosha/miaosha5.jpg",name:"盛世珠宝 金牛手链",oldPrice:1398,newPrice:559},{width:500,height:500,src:"../images/miaosha/miaosha6.jpg",name:"联想拯救者电竞手机Pro 12GB+256GB 骁龙865 Plus",oldPrice:4099,newPrice:3899},{width:500,height:500,src:"../images/miaosha/miaosha7.jpg",name:"飞利浦（PHILIPS） E517A",oldPrice:299,newPrice:269},{width:500,height:500,src:"../images/miaosha/miaosha8.jpg",name:"雅诗兰黛Estee Lauder",oldPrice:1200,newPrice:798},{width:500,height:500,src:"../images/miaosha/miaosha9.jpg",name:"美邦家乐 不锈钢厨房置物架",oldPrice:228,newPrice:88},{width:500,height:500,src:"../images/miaosha/miaosha10.jpg",name:"海飞丝男士去屑洗发水套装  持久去屑清洁止痒 清香型",oldPrice:80.12,newPrice:62.8},{width:500,height:500,src:"../images/miaosha/miaosha11.jpg",name:"碧浪 Ariel 衣物家居除菌液 1L  99%杀菌 除螨清香",oldPrice:59.9,newPrice:9.9},{width:500,height:500,src:"../images/miaosha/miaosha12.jpg",name:"蛇圣（Holy serpent） 真无线蓝牙耳机双耳运动型跑步耳机",oldPrice:329,newPrice:99}],oSideBanner=document.querySelector(".sideBanner"),GetSideBanner=function(){function t(e,i){_classCallCheck(this,t),this.ele=e,this.imgArr=i,this.oUl=this.ele.querySelector("ul"),this.oLi=this.oUl.querySelector("li"),this.time=0,this.index=1,this.bool=!0,this.oDivWidth=parseInt(getComputedStyle(this.oLi).width)}return _createClass(t,[{key:"init",value:function(){this.setArr(),this.autoLoop(),this.loopEnd(),this.setClick(),this.moveEvent(),this.hidden()}},{key:"setArr",value:function(){var t="";this.imgArr.forEach(function(e,i){t+='\n                <li><img src="'.concat(e.src,'">\n                <p>').concat(e.name,'</p>\n                <div class="price">\n                    <span class="price-miaosha">￥').concat(e.newPrice,'</span>\n                    <span class="price-origin"><s>￥').concat(e.oldPrice,"</s></span>\n                </div> \n                </li>\n               \n                ")}),this.oUl.innerHTML=t;var e=this.oUl.querySelectorAll("li"),i=e[0],n=e[this.imgArr.length-1],s=i.cloneNode(!0),a=n.cloneNode(!0);this.oUl.appendChild(s),this.oUl.insertBefore(a,i),this.oUl.style.width=this.oDivWidth*(this.imgArr.length+2)+"px",this.oUl.style.left=-this.index*this.oDivWidth+"px"}},{key:"autoLoop",value:function(){var e=this;this.time=setInterval(function(){e.index++,move(e.oUl,{left:-e.index*e.oDivWidth},e.loopEnd.bind(e))},2e3)}},{key:"loopEnd",value:function(){this.index===this.imgArr.length+2-4&&(this.index=1),0===this.index&&(this.index=this.imgArr.length+2-1-4),this.oUl.style.left=-this.index*this.oDivWidth+"px",this.bool=!0}},{key:"setClick",value:function(){var i=this;this.ele.addEventListener("click",function(e){if("left"===e.target.getAttribute("name")){if(!i.bool)return;i.bool=!1,i.index++,move(i.oUl,{left:-i.index*i.oDivWidth},i.loopEnd.bind(i))}if("right"===e.target.getAttribute("name")){if(!i.bool)return;i.bool=!1,i.index--,move(i.oUl,{left:-i.index*i.oDivWidth},i.loopEnd.bind(i))}})}},{key:"moveEvent",value:function(){var e=this;this.ele.addEventListener("mouseenter",function(){clearInterval(e.time)}),this.ele.addEventListener("mouseleave",function(){e.autoLoop()})}},{key:"hidden",value:function(){var e=this;document.addEventListener("visibilitychange",function(){"visible"===document.visibilityState&&e.autoLoop(),"hidden"===document.visibilityState&&clearInterval(e.time)})}}]),t}(),sideBanner=new GetSideBanner(oSideBanner,imgArr1);sideBanner.init();var arr1=[{src1:"../images/square/s1.jpg",src2:"../images/square/s2.jpg",p1:"中外名酒",p2:"享全球美酒品美好生活"},{src1:"../images/square/s3.jpg",src2:"../images/square/s4.jpg",p1:"京东金融",p2:"会理财  懂生活"},{src1:"../images/square/s5.jpg",src2:"../images/square/s6.jpg",p1:"家装城",p2:"用心装好家一站式购齐"},{src1:"../images/square/s7.jpg",src2:"../images/square/s8.jpg",p1:"新机首发",p2:"有新机更有范"},{src1:"../images/square/s9.jpg",src2:"../images/square/s10.jpg",p1:"汽车生活",p2:"放心养车 爱车无忧"},{src1:"../images/square/s11.jpg",src2:"../images/square/s12.jpg",p1:"智能数码",p2:"尽享玩物尽享乐趣"}],oSquare=document.querySelector(".square"),oul=oSquare.querySelector("ul"),str1="";arr1.forEach(function(e,i){str1+='\n        <li>\n            <p>\n                <a href="JavaScript:;">'.concat(e.p1,"</a>\n                <span>").concat(e.p2,'</span>\n            </p>\n            <p>\n                <img src="').concat(e.src1,'" alt="">\n                <img src="').concat(e.src2,'" alt="">\n            </p>\n        </li>\n        ')}),oul.innerHTML+=str1;var oNew=document.querySelector(".new"),arr2=[{src:"../images/new/new1.jpg",p:"三星折叠屏手机"},{src:"../images/new/new2.jpg",p:"花西子空气蜜粉"},{src:"../images/new/new3.jpg",p:"小苏打按压式牙膏"},{src:"../images/new/new4.jpg",p:"无线蓝牙降噪耳机"},{src:"../images/new/new5.jpg",p:"功夫熊猫海报"}],str2="";arr2.forEach(function(e){str2+='\n        <div>\n            <img src="'.concat(e.src,'">\n            <p>').concat(e.p,"</p>\n        </div>\n        ")}),oNew.innerHTML=str2;var oNian=document.querySelector(".nian"),oUl1=oNian.querySelector("ul");console.log(oUl1);var arr3=[{src:"../images/nian/nian1.jpg",p1:"至高补贴3840元",p2:"5G购机补贴"},{src:"../images/nian/nian2.jpg",p1:"每满300减40",p2:"服饰鞋包"},{src:"../images/nian/nian3.jpg",p1:"每满100减50",p2:"图书文教"},{src:"../images/nian/nian4.jpg",p1:"叠加满300减180",p2:"京东汽车"},{src:"../images/nian/nian5.jpg",p1:"爆款低至5折",p2:"健康年货"},{src:"../images/nian/nian6.jpg",p1:"专享低至5折",p2:"企业年会季"},{src:"../images/nian/nian7.jpg",p1:"生鲜满200减20",p2:"生鲜年货"},{src:"../images/nian/nian8.jpg",p1:"爆款买1赠1",p2:"国潮护肤"},{src:"../images/nian/nian9.jpg",p1:"11pro低至5399",p2:"拍拍手机"},{src:"../images/nian/nian10.jpg",p1:"大牌低至3折",p2:"户外运动"}],str3="";arr3.forEach(function(e){str3+='\n            <li>\n                <img src="'.concat(e.src,'" alt="">\n                <p>\n                    <span>').concat(e.p1,'</span>\n                    <a href="JavaScript:;">').concat(e.p2,"</a>\n                </p>\n            </li>\n         ")}),oUl1.innerHTML=str3;var arr5=[{src:"../images/menu/menu1.jpg",p1:"手机 电话卡",p2:"小米11"},{src:"../images/menu/menu2.jpg",p1:"电视 盒子",p2:"小米透明电视"},{src:"../images/menu/menu3.jpg",p1:"笔记本 显示器",p2:"小米笔记本"},{src:"../images/menu/menu4.jpg",p1:"家电 插线板",p2:"滚筒洗衣机"},{src:"../images/menu/menu5.jpg",p1:"出行 穿戴",p2:"小米手环"},{src:"../images/menu/menu6.jpg",p1:"智能 路由器",p2:"小爱音箱"},{src:"../images/menu/menu7.jpg",p1:"电源 配件",p2:"移动电源"},{src:"../images/menu/menu8.jpg",p1:"健康 儿童",p2:"牙刷"},{src:"../images/menu/menu9.jpg",p1:"耳机 音箱",p2:"小米小爱音箱"},{src:"../images/menu/menu10.jpg",p1:"生活 箱包",p2:"小米书包"}],oMenu=document.querySelector(".menu"),str5="";arr5.forEach(function(e){str5+='\n        <li class="glyphicon glyphicon-chevron-right" name="li">'.concat(e.p1,'\n            <ol>\n                    <li>\n                        <img src="').concat(e.src,'" alt="">\n                        <span>').concat(e.p2,'</span>\n                    </li> \n                    <li>\n                        <img src="').concat(e.src,'" alt="">\n                        <span>').concat(e.p2,'</span>\n                    </li> \n                    <li>\n                        <img src="').concat(e.src,'" alt="">\n                        <span>').concat(e.p2,'</span>\n                    </li> \n                    <li>\n                        <img src="').concat(e.src,'" alt="">\n                        <span>').concat(e.p2,"</span>\n                    </li> \n                         \n                \n            </ol>\n        </li>\n        ")}),$(".menu>ul").html(str5),$(".menu>ul>li").on("mouseenter",function(){$(this).find("ol").fadeToggle(0)}),$(".menu>ul>li").on("mouseleave",function(){$(this).find("ol").fadeToggle(0)});var oRecommend=document.querySelector(".recommend"),oUl2=oRecommend.querySelector("ul"),arr4=[{src:"../images/recommend/r1.jpg",p1:"软玻璃透明PVC餐桌垫",p2:"10.00"},{src:"../images/recommend/r2.jpg",p1:"客厅创意 石英钟时钟",p2:"289.00"},{src:"../images/recommend/r3.jpg",p1:"全自动多功能 零重力太空舱电动 按摩沙发椅A8",p2:"3799.00"},{src:"../images/recommend/r4.jpg",p1:"景德镇陶瓷 仿古青花瓷",p2:"339.00"},{src:"../images/recommend/r5.jpg",p1:"U型不锈钢 高压锅",p2:"319.00"},{src:"../images/recommend/r6.jpg",p1:"可折叠电脑桌 懒人学习桌 简易床上桌",p2:"379.00"},{src:"../images/recommend/r7.jpg",p1:"创意个性家居 爱心铁艺木板 置物架",p2:"109.00"},{src:"../images/recommend/r8.jpg",p1:"纯棉床笠床单 式床上用品 全棉学生家纺",p2:"319.00"},{src:"../images/recommend/r9.jpg",p1:"职员办公桌 简约实木会议桌 电脑桌",p2:"1319.00"},{src:"../images/recommend/r10.jpg",p1:"智能马桶 全自动翻盖数显 冲水即热一体式",p2:"5309.00"}],str4="";arr4.forEach(function(e){str4+='\n            <li>\n                <img src="'.concat(e.src,'" alt="">\n                <p>\n                    <span>').concat(e.p1,'</span>\n                    <a href="JavaScript:;">￥').concat(e.p2,"</a>\n                </p>\n            </li>\n         ")}),oUl2.innerHTML=str4;var oIpt=document.querySelector("input"),oUl=document.querySelector("ul");function SetJson(){var e=oIpt.value,i=new Date,t=parseInt(i.getTime()/1e3),n=document.createElement("script");n.setAttribute("src","https://www.baidu.com/sugrec?pre=1&p=3&ie=utf-8&json=1&prod=pc&from=pc_web&sugsid=33425,33358,33257,31254,33286,33351,33413,26350,33264,33389,33370&wd=".concat(e,"&req=2&csor=2&pwd=a&cb=setLi&_=").concat(t)),document.body.appendChild(n),document.body.removeChild(n)}function setLi(e){if(console.log(e),void 0===e.g)oUl.style.display="none";else{oUl.style.display="block";var i="";e.g.forEach(function(e){i+="\n                    <li>".concat(e.q,"</li>\n                ")}),oUl.innerHTML=i}}oIpt.addEventListener("input",function(){SetJson()});var oBox=document.querySelector(".box"),GetTab=function(){function i(e){_classCallCheck(this,i),this.ele=e,this.oUL=this.ele.querySelector("ul"),this.oUlLi=this.oUL.querySelectorAll("li"),this.oOL=this.ele.querySelector("ol"),this.oOlLi=this.oOL.querySelectorAll("li"),console.log(this.oOlLi)}return _createClass(i,[{key:"set",value:function(){var t=this;this.oUL.addEventListener("click",function(e){"LI"===e.target.tagName&&(t.oUlLi.forEach(function(e,i){e.className=e.className.replace("active",""),t.oOlLi[i].className=t.oOlLi[i].className.replace("active","")}),e.target.className="active",t.oOlLi[e.target.getAttribute("index")-0].className="active")})}}]),i}(),oGetTab=new GetTab(oBox);oGetTab.set();var arr=[{id:1,smallWidth:54,smallHeight:54,smallSrc:"../images/big/1.small.jpg",largeWidth:800,largeHeight:800,largeSrc:"../images/big/1.large.jpg"},{id:2,smallWidth:54,smallHeight:54,smallSrc:"../images/big/2.small.jpg",largeWidth:800,largeHeight:800,largeSrc:"../images/big/2.large.jpg"},{id:3,smallWidth:54,smallHeight:54,smallSrc:"../images/big/3.small.jpg",largeWidth:800,largeHeight:800,largeSrc:"../images/big/3.large.jpg"}],oBox1=document.querySelector(".box1"),SetGlass=function(){function t(e,i){_classCallCheck(this,t),this.ele=e,this.arr=i,this.show=this.ele.querySelector(".show"),this.mask=this.ele.querySelector(".mask"),this.list=this.ele.querySelector(".list"),this.glass=this.ele.querySelector(".glass"),this.img=this.show.querySelector("img"),this.boxLeft=this.ele.offsetLeft,this.boxTop=this.ele.offsetTop,this.showWidth=this.show.clientWidth,this.showHeight=this.show.clientHeight,this.showBorderWidth=this.show.clientLeft,this.showBorderHeight=this.show.clientTop,this.maskWidth=parseInt(getComputedStyle(this.mask).width),this.maskHeight=parseInt(getComputedStyle(this.mask).height)}return _createClass(t,[{key:"init",value:function(){this.setElement(),this.setMouse(),this.setClick(),this.setMouseMove()}},{key:"setElement",value:function(){var t="";this.arr.forEach(function(e,i){t+=0===i?'<li class="active"><img index="'.concat(i,'" src="').concat(e.smallSrc,'"></li>'):'<li ><img index="'.concat(i,'" src="').concat(e.smallSrc,'"></li>')}),this.img.setAttribute("src",this.arr[0].largeSrc),this.list.innerHTML=t,this.glass.style.backgroundImage='url("'.concat(this.arr[0].largeSrc,'") '),this.glass.style.backgroundRepeat="no-repeat",this.glass.style.backgroundPosition="0 0",this.glass.style.backgroundSize="1600px"}},{key:"setMouse",value:function(){var e=this;this.show.addEventListener("mouseenter",function(){e.mask.style.display="block",e.glass.style.display="block"}),this.show.addEventListener("mouseleave",function(){e.mask.style.display="none",e.glass.style.display="none"})}},{key:"setClick",value:function(){var t=this,n=this.list.querySelectorAll("li");this.list.addEventListener("click",function(e){if("IMG"===e.target.tagName){n.forEach(function(e,i){e.className=e.className.replace("active","")}),e.target.parentElement.className+=" active";var i=e.target.getAttribute("index")-0;t.img.setAttribute("src","".concat(t.arr[i].largeSrc)),t.glass.style.backgroundImage='url("'.concat(t.arr[i].largeSrc,'")')}})}},{key:"setMouseMove",value:function(){var n=this;this.show.addEventListener("mousemove",function(e){var i=e.pageX-n.boxLeft-n.showBorderWidth-n.maskWidth/2,t=e.pageY-n.boxTop-n.showBorderHeight-n.maskHeight/2;i<0&&(i=0),t<0&&(t=0),i>n.showWidth-n.maskWidth&&(i=n.showWidth-n.maskWidth),t>n.showHeight-n.maskHeight&&(t=n.showHeight-n.maskHeight),n.mask.style.left=i+"px",n.mask.style.top=t+"px",n.glass.style.backgroundPosition="".concat(4*-i,"px ").concat(4*-t,"px")})}}]),t}(),glassObj=new SetGlass(oBox1,arr);glassObj.init();var imgArr=[{width:500,height:500,src:"../images/banner/banner1.jpg"},{width:500,height:500,src:"../images/banner/banner2.jpg"},{width:500,height:500,src:"../images/banner/banner3.jpg"},{width:500,height:500,src:"../images/banner/banner4.jpg"},{width:500,height:500,src:"../images/banner/banner5.jpg"},{width:500,height:500,src:"../images/banner/banner6.jpg"}],oBanner=document.querySelector(".banner"),GetBanner=function(){function t(e,i){_classCallCheck(this,t),this.ele=e,this.imgArr=i,this.oUl=this.ele.querySelector("ul"),this.oOl=this.ele.querySelector("ol"),this.time=0,this.index=1,this.bool=!0,this.oDivWidth=parseInt(getComputedStyle(e).width)}return _createClass(t,[{key:"init",value:function(){this.setArr(),this.autoLoop(),this.loopEnd(),this.setFocusStyle(),this.setClick(),this.moveEvent(),this.hidden()}},{key:"setArr",value:function(){var t="",n="";this.imgArr.forEach(function(e,i){t+='\n            <li><img src="'.concat(e.src,'"></li>\n            '),n+=0===i?'<li class="active" name="focus" num="'.concat(i,'"></li> '):'<li name="focus" num="'.concat(i,'"></li>')}),this.oUl.innerHTML=t,this.oOl.innerHTML=n;var e=this.oUl.querySelectorAll("li"),i=e[0],s=e[this.imgArr.length-1],a=i.cloneNode(!0),o=s.cloneNode(!0);this.oUl.appendChild(a),this.oUl.insertBefore(o,i),this.oUl.style.width=this.oDivWidth*(this.imgArr.length+2)+"px",this.oUl.style.left=-this.index*this.oDivWidth+"px"}},{key:"autoLoop",value:function(){var e=this;this.time=setInterval(function(){e.index++,move(e.oUl,{left:-e.index*e.oDivWidth},e.loopEnd.bind(e))},2e3)}},{key:"loopEnd",value:function(){this.index===this.imgArr.length+2-1&&(this.index=1),0===this.index&&(this.index=this.imgArr.length+2-1-1),this.oUl.style.left=-this.index*this.oDivWidth+"px",this.setFocusStyle(),this.bool=!0}},{key:"setFocusStyle",value:function(){var e=this.oOl.querySelectorAll("li");e.forEach(function(e){myDelClass(e,"active")}),e[this.index-1].className+=" active"}},{key:"setClick",value:function(){var i=this;this.ele.addEventListener("click",function(e){if("left"===e.target.getAttribute("name")){if(!i.bool)return;i.bool=!1,i.index--,move(i.oUl,{left:-i.index*i.oDivWidth},i.loopEnd.bind(i))}if("right"===e.target.getAttribute("name")){if(!i.bool)return;i.bool=!1,i.index++,move(i.oUl,{left:-i.index*i.oDivWidth},i.loopEnd.bind(i))}if("focus"===e.target.getAttribute("name")){if(!i.bool)return;i.bool=!1,i.index=e.target.getAttribute("num")-0+1,move(i.oUl,{left:-i.index*i.oDivWidth},i.loopEnd.bind(i))}})}},{key:"moveEvent",value:function(){var e=this;this.ele.addEventListener("mouseenter",function(){clearInterval(e.time)}),this.ele.addEventListener("mouseleave",function(){e.autoLoop()})}},{key:"hidden",value:function(){var e=this;document.addEventListener("visibilitychange",function(){"visible"===document.visibilityState&&e.autoLoop(),"hidden"===document.visibilityState&&clearInterval(e.time)})}}]),t}(),oGetBanner=new GetBanner(oBanner,imgArr);oGetBanner.init();