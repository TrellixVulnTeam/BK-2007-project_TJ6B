"use strict";setCart();var oBox=$(".container")[0];function setCart(){var n=JSON.parse(localStorage.getItem("cart")),a=0,t=0,e=0;if(null===n||0===n.length){var i='\n   <div class="storeBtn">\n       <ul>\n           <li name="li"><a class="btn btn-primary" href="../pages/list.html?cat_one_id=食品酒水">食品酒水</a></li>\n           <li name="li"><a class="btn btn-primary" href="../pages/list.html?cat_one_id=童装玩具">童装玩具</a></li>\n           <li name="li"><a class="btn btn-primary" href="../pages/list.html?cat_one_id=家装建材">家装建材</a></li>\n           <li name="li"><a class="btn btn-primary" href="../pages/list.html?cat_one_id=奶粉尿裤">奶粉尿裤</a></li>\n           <li name="li"><a class="btn btn-primary" href="../pages/list.html?cat_one_id=其他">其他产品</a></li>\n       \n \n       </ul>\n   </div>\n       <div class="panel panel-info ">\n         <div class="panel-body bg-info">\n           <div class="checkbox">\n             <label>\n               <input type="checkbox" name="all" value="">\n               全选\n             </label>\n           </div>\n         </div>\n         <div class="panel-footer">\n           <ul class="cart-list">  \n             ';i+="您没有添加商品",i+='\n       </ul>\n     </div>\n   </div>\n       <div>\n         <h1>您一共 购买了 <span class="span1">'.concat(t,'</span> 种 <span class="span1">').concat(e,'</span> 件 商品 </h1>\n         <h1>您一共 需要支付 <span class="span2">').concat(a.toFixed(2),"</span> 元 </h1>\n       </div>\n   "),$(".container").html(i)}else{var s=!0;n.forEach(function(n){!1===n.buy&&(s=!1)});var l='\n   <div class="storeBtn">\n     <ul>\n         <li name="li"><a class="btn btn-primary" href="../pages/list.html?cat_one_id=食品酒水">食品酒水</a></li>\n         <li name="li"><a class="btn btn-primary" href="../pages/list.html?cat_one_id=童装玩具">童装玩具</a></li>\n         <li name="li"><a class="btn btn-primary" href="../pages/list.html?cat_one_id=家装建材">家装建材</a></li>\n         <li name="li"><a class="btn btn-primary" href="../pages/list.html?cat_one_id=奶粉尿裤">奶粉尿裤</a></li>\n         <li name="li"><a class="btn btn-primary" href="../pages/list.html?cat_one_id=其他">其他产品</a></li>\n      \n\n     </ul>\n   </div>\n   <div class="panel panel-info ">\n     <div class="panel-body bg-info">\n       <div class="checkbox">\n         <label>\n           <input type="checkbox" name="all" value="" '.concat(s?"checked":"",'>\n           全选\n         </label>\n         &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n         <button name="not" class="del btn btn-danger">反选</button>\n       </div>\n     </div>\n     <div class="panel-footer">\n       <ul class="cart-list">  \n         ');n.forEach(function(n){n.buy&&(t++,e+=n.num,a+=n.num*n.goods_price),l+='\n     <li class="cart-item">\n               <div class="left">\n                 <input type="checkbox" name="other" goods_id='.concat(n.goods_id," ").concat(n.buy?"checked":"",'>\n               </div>\n               <div class="right">\n                 <div class="media">\n                   <div class="media-left">\n                     <a href="JavaScript:;">\n                       <img class="media-object" src="').concat(n.goods_small_logo,'" alt="...">\n                     </a>\n                   </div>\n                   <div class="media-body">\n                     <h4 class="media-heading">').concat(n.goods_name,'</h4>\n                     <p>\n                       <i class="glyphicon glyphicon-yen"></i>\n                       <span>').concat(n.goods_price,'</span>\n                     </p>\n                     <div class="btn-group pull-right" role="group" aria-label="...">\n                       <button type="button" class="btn btn-default" name="-" goods_id=').concat(n.goods_id," ").concat(1===n.num?"disabled":"",'>-</button>\n                       <button type="button" class="btn btn-default" disabled> ').concat(n.num,'</button>\n                       <button type="button" class="btn btn-default" name="+" goods_id=').concat(n.goods_id," ").concat(n.num==n.goods_number?"disabled":"",'>+</button>\n                     </div>\n                     <button class="del btn btn-danger" name="del" goods_id=').concat(n.goods_id,">我不要了</button>\n\n                   </div>\n                 </div>\n               </div>\n             </li>\n     ")}),l+='\n       </ul>\n     </div>\n   </div>\n       <div>\n         <h1>您一共 购买了 <span class="span1">'.concat(t,'</span> 种 <span class="span1">').concat(e,'</span> 件 商品 </h1>\n         <h1>您一共 需要支付 <span class="span2">').concat(a.toFixed(2),"</span> 元 </h1>\n       </div>\n   "),$(".container").html(l)}}oBox.addEventListener("click",function(a){var t=JSON.parse(localStorage.getItem("cart"));if("all"===a.target.getAttribute("name")&&t.forEach(function(n){n.buy=a.target.checked}),"not"===a.target.getAttribute("name")&&t.forEach(function(n){n.buy=!n.buy}),"other"===a.target.getAttribute("name")){var e=a.target.getAttribute("goods_id");t.forEach(function(n){n.goods_id===e&&(n.buy=a.target.checked)})}if("del"===a.target.getAttribute("name")){var i=a.target.getAttribute("goods_id");t.forEach(function(n,a){n.goods_id===i&&t.splice(a,1)})}if("+"===a.target.getAttribute("name")){var s=a.target.getAttribute("goods_id");t.forEach(function(n,a){n.goods_id===s&&n.num++})}if("-"===a.target.getAttribute("name")){var l=a.target.getAttribute("goods_id");t.forEach(function(n,a){n.goods_id===l&&n.num--})}localStorage.setItem("cart",JSON.stringify(t)),setCart()});