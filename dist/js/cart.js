"use strict";function setCart(){var n=JSON.parse(localStorage.getItem("cart")),t=0,a=0,e=0;if(null===n||0===n.length){var o='\n    <div class="panel panel-info ">\n      <div class="panel-body bg-info">\n        <div class="checkbox">\n          <label>\n            <input type="checkbox" name="all" value="">\n            全选\n          </label>\n        </div>\n      </div>\n      <div class="panel-footer">\n        <ul class="cart-list">  \n          ';o+="您没有添加商品",o+="\n        </ul>\n    </div>\n    </div>\n        <div>\n        <h1>您一共 购买了 ".concat(a," 种 ").concat(e," 件 商品 </h1>\n        <h1>您一共 需要支付 ").concat(t.toFixed(2)," 元 </h1>\n        </div>\n    "),$(".container").html(o)}else{var c=!0;n.forEach(function(n){!1===n.buy&&(c=!1)});var i='\n      <div class="panel panel-info ">\n        <div class="panel-body bg-info">\n          <div class="checkbox">\n            <label>\n              <input type="checkbox" name="all" value="" '.concat(c?"checked":"",'>\n              全选\n            </label>\n            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n            <button name="not" class="del btn btn-danger">反选</button>\n          </div>\n        </div>\n        <div class="panel-footer">\n          <ul class="cart-list">  \n            ');n.forEach(function(n){n.buy&&(a++,e+=n.num,t+=n.num*n.goods_price),i+='\n        <li class="cart-item">\n                  <div class="left">\n                    <input type="checkbox" name="other" goods_id='.concat(n.goods_id," ").concat(n.buy?"checked":"",'>\n                  </div>\n                  <div class="right">\n                    <div class="media">\n                      <div class="media-left">\n                        <a href="JavaScript:;">\n                          <img class="media-object" src="').concat(n.goods_small_logo,'" alt="...">\n                        </a>\n                      </div>\n                      <div class="media-body">\n                        <h4 class="media-heading">').concat(n.goods_name,'</h4>\n                        <p>\n                          <i class="glyphicon glyphicon-yen"></i>\n                          <span>').concat(n.goods_price,'</span>\n                        </p>\n                        <div class="btn-group pull-right" role="group" aria-label="...">\n                          <button type="button" class="btn btn-default" name="-" goods_id=').concat(n.goods_id," ").concat(1===n.num?"disabled":"",'>-</button>\n                          <button type="button" class="btn btn-default" disabled> ').concat(n.num,'</button>\n                          <button type="button" class="btn btn-default" name="+" goods_id=').concat(n.goods_id," ").concat(n.num==n.goods_number?"disabled":"",'>+</button>\n                        </div>\n                        <button class="del btn btn-danger" name="del" goods_id=').concat(n.goods_id,">我不要了</button>\n\n                      </div>\n                    </div>\n                  </div>\n                </li>\n        ")}),i+="\n          </ul>\n        </div>\n      </div>\n          <div>\n            <h1>您一共 购买了 ".concat(a," 种 ").concat(e," 件 商品 </h1>\n            <h1>您一共 需要支付 ").concat(t.toFixed(2)," 元 </h1>\n          </div>\n      "),$(".container").html(i)}}setCart(),$(".container")[0].addEventListener("click",function(t){var a=JSON.parse(localStorage.getItem("cart"));if("all"===t.target.getAttribute("name")&&a.forEach(function(n){n.buy=t.target.checked}),"not"===t.target.getAttribute("name")&&a.forEach(function(n){n.buy=!n.buy}),"other"===t.target.getAttribute("name")){var e=t.target.getAttribute("goods_id");a.forEach(function(n){n.goods_id===e&&(n.buy=t.target.checked)})}if("del"===t.target.getAttribute("name")){var o=t.target.getAttribute("goods_id");a.forEach(function(n,t){n.goods_id===o&&a.splice(t,1)})}if("+"===t.target.getAttribute("name")){var c=t.target.getAttribute("goods_id");a.forEach(function(n,t){n.goods_id===c&&n.num++})}if("-"===t.target.getAttribute("name")){var i=t.target.getAttribute("goods_id");a.forEach(function(n,t){n.goods_id===i&&n.num--})}localStorage.setItem("cart",JSON.stringify(a)),setCart()});